{"ast":null,"code":"import _asyncToGenerator from\"/Users/chrisvazquez/Documents/GitHub/Entertainment-Center/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/chrisvazquez/Documents/GitHub/Entertainment-Center/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/chrisvazquez/Documents/GitHub/Entertainment-Center/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';// import Backdrop from '@mui/material/Backdrop';\nimport Modal from'@mui/material/Modal';import Fade from'@mui/material/Fade';import Button from'@mui/material/Button';import{makeStyles}from'@mui/styles';import axios from'axios';import{img_500,unavailable}from'../../Config/config';import{YouTube}from'@mui/icons-material';import Carousel from\"../Carousel/Carousel\";import\"./ContentModal.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{modal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},paper:{width:\"90%\",height:\"85%\",backgroundColor:\"#393944\",border:\"1px solid #282c34\",borderRadius:10,color:\"white\",boxShadow:5,padding:10}};});export default function ContentModal(_ref){var children=_ref.children,media_type=_ref.media_type,id=_ref.id;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),video=_useState6[0],setVideo=_useState6[1];var handleOpen=function handleOpen(){return setOpen(true);};var handleClose=function handleClose(){return setOpen(false);};var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.themoviedb.org/3/\".concat(media_type,\"/\").concat(id,\"?api_key=\").concat(process.env.REACT_APP_API_KEY,\"&language=en-US\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setContent(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();var fetchVideo=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _data$results$;var _yield$axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://api.themoviedb.org/3/\".concat(media_type,\"/\").concat(id,\"/videos?api_key=\").concat(process.env.REACT_APP_API_KEY,\"&language=en-US\"));case 2:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;setVideo((_data$results$=data.results[0])===null||_data$results$===void 0?void 0:_data$results$.key);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchVideo(){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchData();fetchVideo();// eslint-disable-next-line \n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"media\",onClick:handleOpen,children:children}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,onClose:handleClose,closeAfterTransition:true// BackdropComponent={Backdrop}\n// BackdropProps={{\n//     timeout: 500,\n// }}\n,children:/*#__PURE__*/_jsx(Fade,{in:open,children:content&&/*#__PURE__*/_jsx(\"div\",{className:classes.paper,children:/*#__PURE__*/_jsxs(\"div\",{className:\"contentModal\",children:[/*#__PURE__*/_jsx(\"img\",{alt:content.name||content.title,className:\"contentModal_portrait\",src:content.poster_path?\"\".concat(img_500,\"/\").concat(content.poster_path):unavailable}),/*#__PURE__*/_jsx(\"img\",{alt:content.name||content.title,className:\"contentModal_landscape\",src:content.backdrop_path?\"\".concat(img_500,\"/\").concat(content.backdrop_path):unavailable}),/*#__PURE__*/_jsxs(\"div\",{className:\"contentModal_about\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"contentModal_title\",children:[content.name||content.title,\"(\",(content.first_air_date||content.release_date||\"-----\").substring(0,4),\")\"]}),content.tagline&&/*#__PURE__*/_jsx(\"i\",{className:\"tagline\",children:content.tagline}),/*#__PURE__*/_jsx(\"span\",{className:\"contentModal_overview\",children:content.overview}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Carousel,{media_type:media_type,id:id})}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(YouTube,{}),color:\"error\",target:\"_blank\",href:\"http://www.youtube.com/watch?v=\".concat(video),children:/*#__PURE__*/_jsx(\"b\",{children:\"Watch the Trailer\"})})]})]})})})})]});}","map":{"version":3,"sources":["/Users/chrisvazquez/Documents/GitHub/Entertainment-Center/src/components/ContentModal/ContentModal.js"],"names":["React","useEffect","useState","Modal","Fade","Button","makeStyles","axios","img_500","unavailable","YouTube","Carousel","useStyles","theme","modal","display","alignItems","justifyContent","paper","width","height","backgroundColor","border","borderRadius","color","boxShadow","padding","ContentModal","children","media_type","id","classes","open","setOpen","content","setContent","video","setVideo","handleOpen","handleClose","fetchData","get","process","env","REACT_APP_API_KEY","data","fetchVideo","results","key","name","title","poster_path","backdrop_path","first_air_date","release_date","substring","tagline","overview"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n// import Backdrop from '@mui/material/Backdrop';\nimport Modal from '@mui/material/Modal';\nimport Fade from '@mui/material/Fade';\nimport Button from '@mui/material/Button';\nimport { makeStyles } from '@mui/styles'\nimport axios from 'axios';\nimport { img_500, unavailable } from '../../Config/config';\nimport { YouTube } from '@mui/icons-material';\nimport Carousel from \"../Carousel/Carousel\"\nimport \"./ContentModal.css\"\n\nconst useStyles = makeStyles((theme) => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      width: \"90%\",\n      height: \"85%\",\n      backgroundColor: \"#393944\",\n      border: \"1px solid #282c34\",\n      borderRadius: 10,\n      color: \"white\",\n      boxShadow: 5,\n      padding: 10,\n    },\n}));\n\nexport default function ContentModal({children, media_type, id}) {\n    const classes = useStyles();\n    const [open, setOpen] = useState(false);\n    const [content, setContent] = useState();\n    const [video, setVideo] = useState()\n    const handleOpen = () => setOpen(true);\n    const handleClose = () => setOpen(false);\n\n    const fetchData = async () => {\n        const { data } = await axios.get(\n            `https://api.themoviedb.org/3/${media_type}/${id}?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`\n        )\n        setContent(data)\n    }\n\n    const fetchVideo = async () => {\n        const { data } = await axios.get(\n            `https://api.themoviedb.org/3/${media_type}/${id}/videos?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`\n        )\n        setVideo(data.results[0]?.key)\n    }\n\n    useEffect(() => {\n      fetchData()\n      fetchVideo()\n      // eslint-disable-next-line \n    }, [])\n    \n\n  return (\n    <>\n      <div className='media' onClick={handleOpen}>{children}</div>\n        <Modal\n            aria-labelledby=\"transition-modal-title\"\n            aria-describedby=\"transition-modal-description\"\n            className={classes.modal}\n            open={open}\n            onClose={handleClose}\n            closeAfterTransition\n            // BackdropComponent={Backdrop}\n            // BackdropProps={{\n            //     timeout: 500,\n            // }}\n        >\n        <Fade in={open}>\n            {content && (\n                <div className={classes.paper}>\n                    <div className=\"contentModal\">\n                        <img\n                            alt={content.name || content.title} \n                            className='contentModal_portrait'\n                            src={content.poster_path\n                                ?`${img_500}/${content.poster_path}` \n                                : unavailable}\n                        />\n                        <img\n                            alt={content.name || content.title} \n                            className='contentModal_landscape'\n                            src={content.backdrop_path\n                                ?`${img_500}/${content.backdrop_path}` \n                                : unavailable}\n                        />\n                        <div className='contentModal_about'>\n                            <span className='contentModal_title'>\n                                {content.name || content.title}(\n                                    {(\n                                        content.first_air_date ||\n                                        content.release_date ||\n                                        \"-----\"\n                                    ).substring(0,4)}\n                                )\n                            </span>\n                            {content.tagline && (\n                                <i className=\"tagline\">{content.tagline}</i>\n                            )}\n                            <span className='contentModal_overview'>\n                                {content.overview}\n                            </span>\n                            <div>\n                                <Carousel \n                                    media_type={media_type}\n                                    id={id}\n                                />\n                            </div>\n                            <Button\n                                variant='contained'\n                                startIcon={<YouTube/>}\n                                color=\"error\"\n                                target=\"_blank\"\n                                href={`http://www.youtube.com/watch?v=${video}`}\n                            >\n                                <b>Watch the Trailer</b>\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </Fade>\n      </Modal>\n    </>\n  );\n}"]},"metadata":{},"sourceType":"module"}