{"ast":null,"code":"import _regeneratorRuntime from \"/Users/chrisvazquez/Documents/GitHub/Entertainment-Center/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/chrisvazquez/Documents/GitHub/Entertainment-Center/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/chrisvazquez/Documents/GitHub/Entertainment-Center/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/chrisvazquez/Documents/GitHub/Entertainment-Center/src/Pages/Search/Search.js\";\n\nimport { Button, createTheme, Tab, Tabs, TextField, ThemeProvider } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport axios from 'axios';\nimport SingleContent from '../../components/SingleContent/SingleContent';\nimport CustomPagination from '../../components/Pagination/CustomPagination';\n\nvar Search = function Search() {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      type = _useState2[0],\n      setType = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      page = _useState4[0],\n      setPage = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchText = _useState6[0],\n      setSearchText = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      content = _useState8[0],\n      setContent = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      numOfPages = _useState10[0],\n      setNumOfPages = _useState10[1];\n\n  var darkTheme = createTheme({\n    palette: {\n      mode: \"dark\",\n      primary: {\n        main: \"#fff\"\n      }\n    }\n  });\n\n  var fetchSearch = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$axios$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"https://api.themoviedb.org/3/search/\".concat(type ? \"tv\" : \"movie\", \"?api_key=\").concat(process.env.REACT_APP_API_KEY, \"&language=en-US&query=\").concat(searchText, \"&page=\").concat(page, \"&include_adult=false\"));\n\n            case 2:\n              _yield$axios$get = _context.sent;\n              data = _yield$axios$get.data;\n              setContent(data.results);\n              setNumOfPages(data.total_pages);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchSearch() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    window.scroll(0, 0);\n    fetchSearch();\n  }, [type, page]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ThemeProvider, {\n    theme: darkTheme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      margin: \"15px 0\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      flex: 1\n    },\n    className: \"searchBox\",\n    label: \"Search\",\n    variant: \"filled\",\n    onChange: function onChange(e) {\n      return setSearchText(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    style: {\n      marginLeft: 10\n    },\n    onClick: fetchSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Tabs, {\n    value: type,\n    indicatorColor: \"primary\",\n    textColor: \"primary\",\n    onChange: function onChange(event, newValue) {\n      setType(newValue);\n      setPage(1);\n    },\n    style: {\n      paddingBottom: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    style: {\n      width: \"50%\"\n    },\n    label: \"Search Movies\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    style: {\n      width: \"50%\"\n    },\n    label: \"Search TV Series\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trending\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, content && content.map(function (c) {\n    return /*#__PURE__*/React.createElement(SingleContent, {\n      key: c.id,\n      id: c.id,\n      poster: c.poster_path,\n      title: c.title || c.name,\n      date: c.first_air_date || c.release_date,\n      media_type: type ? \"tv\" : \"movie\",\n      vote_average: c.vote_average,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    });\n  }), fetchSearch && !content && (type ? /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, \"No Series Found\") : /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 48\n    }\n  }, \"No Movies Found\"))), numOfPages > 1 && /*#__PURE__*/React.createElement(CustomPagination, {\n    setPage: setPage,\n    numOfPages: numOfPages,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/chrisvazquez/Documents/GitHub/Entertainment-Center/src/Pages/Search/Search.js"],"names":["Button","createTheme","Tab","Tabs","TextField","ThemeProvider","React","useEffect","useState","SearchIcon","axios","SingleContent","CustomPagination","Search","type","setType","page","setPage","searchText","setSearchText","content","setContent","numOfPages","setNumOfPages","darkTheme","palette","mode","primary","main","fetchSearch","get","process","env","REACT_APP_API_KEY","data","results","total_pages","window","scroll","display","margin","flex","e","target","value","marginLeft","event","newValue","paddingBottom","width","map","c","id","poster_path","title","name","first_air_date","release_date","vote_average"],"mappings":";;;;;;;AAAA,SAASA,MAAT,EAAiBC,WAAjB,EAA8BC,GAA9B,EAAmCC,IAAnC,EAAyCC,SAAzC,EAAoDC,aAApD,QAAyE,eAAzE;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,8CAA1B;AACA,OAAOC,gBAAP,MAA6B,8CAA7B;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAAA,kBAEKL,QAAQ,CAAC,CAAD,CAFb;AAAA;AAAA,MAEZM,IAFY;AAAA,MAENC,OAFM;;AAAA,mBAGKP,QAAQ,CAAC,CAAD,CAHb;AAAA;AAAA,MAGZQ,IAHY;AAAA,MAGNC,OAHM;;AAAA,mBAIiBT,QAAQ,CAAC,EAAD,CAJzB;AAAA;AAAA,MAIZU,UAJY;AAAA,MAIAC,aAJA;;AAAA,mBAKWX,QAAQ,EALnB;AAAA;AAAA,MAKZY,OALY;AAAA,MAKHC,UALG;;AAAA,mBAMiBb,QAAQ,EANzB;AAAA;AAAA,MAMZc,UANY;AAAA,MAMAC,aANA;;AAQnB,MAAMC,SAAS,GAAGvB,WAAW,CAAC;AAC5BwB,IAAAA,OAAO,EAAC;AACNC,MAAAA,IAAI,EAAE,MADA;AAENC,MAAAA,OAAO,EAAC;AACNC,QAAAA,IAAI,EAAE;AADA;AAFF;AADoB,GAAD,CAA7B;;AASA,MAAMC,WAAW;AAAA,wEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACKnB,KAAK,CAACoB,GAAN,+CACkBhB,IAAI,GAAG,IAAH,GAAU,OADhC,sBACmDiB,OAAO,CAACC,GAAR,CAAYC,iBAD/D,mCAC0Gf,UAD1G,mBAC6HF,IAD7H,0BADL;;AAAA;AAAA;AACVkB,cAAAA,IADU,oBACVA,IADU;AAIlBb,cAAAA,UAAU,CAACa,IAAI,CAACC,OAAN,CAAV;AACAZ,cAAAA,aAAa,CAACW,IAAI,CAACE,WAAN,CAAb;;AALkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXP,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAQAtB,EAAAA,SAAS,CAAC,YAAM;AACd8B,IAAAA,MAAM,CAACC,MAAP,CAAc,CAAd,EAAgB,CAAhB;AACAT,IAAAA,WAAW;AACZ,GAHQ,EAGN,CAACf,IAAD,EAAOE,IAAP,CAHM,CAAT;AAOA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAEQ,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAE;AAACe,MAAAA,OAAO,EAAE,MAAV;AAAkBC,MAAAA,MAAM,EAAE;AAA1B,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR,KADT;AAEE,IAAA,SAAS,EAAC,WAFZ;AAGE,IAAA,KAAK,EAAC,QAHR;AAIE,IAAA,OAAO,EAAC,QAJV;AAKE,IAAA,QAAQ,EAAE,kBAACC,CAAD;AAAA,aAAOvB,aAAa,CAACuB,CAAC,CAACC,MAAF,CAASC,KAAV,CAApB;AAAA,KALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE,oBAAC,MAAD;AACE,IAAA,OAAO,EAAC,WADV;AAEE,IAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAE;AAAb,KAFT;AAGE,IAAA,OAAO,EAAEhB,WAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CARF,CADF,eAiBE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAEf,IADT;AAEE,IAAA,cAAc,EAAC,SAFjB;AAGE,IAAA,SAAS,EAAC,SAHZ;AAIE,IAAA,QAAQ,EAAE,kBAACgC,KAAD,EAAQC,QAAR,EAAqB;AAC7BhC,MAAAA,OAAO,CAACgC,QAAD,CAAP;AACA9B,MAAAA,OAAO,CAAC,CAAD,CAAP;AACD,KAPH;AAQE,IAAA,KAAK,EAAE;AAAE+B,MAAAA,aAAa,EAAE;AAAjB,KART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAUE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAA8B,IAAA,KAAK,EAAC,eAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAWE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAA8B,IAAA,KAAK,EAAC,kBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,CAjBF,CADF,eAiCI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI7B,OAAO,IAAIA,OAAO,CAAC8B,GAAR,CAAY,UAACC,CAAD;AAAA,wBACvB,oBAAC,aAAD;AACE,MAAA,GAAG,EAAEA,CAAC,CAACC,EADT;AAEE,MAAA,EAAE,EAAED,CAAC,CAACC,EAFR;AAGE,MAAA,MAAM,EAAED,CAAC,CAACE,WAHZ;AAIE,MAAA,KAAK,EAAEF,CAAC,CAACG,KAAF,IAAWH,CAAC,CAACI,IAJtB;AAKE,MAAA,IAAI,EAAEJ,CAAC,CAACK,cAAF,IAAoBL,CAAC,CAACM,YAL9B;AAME,MAAA,UAAU,EAAE3C,IAAI,GAAG,IAAH,GAAU,OAN5B;AAOE,MAAA,YAAY,EAAEqC,CAAC,CAACO,YAPlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADuB;AAAA,GAAZ,CADf,EAYG7B,WAAW,IACV,CAACT,OADF,KAEEN,IAAI,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAH,gBAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFpC,CAZH,CAjCJ,EAkDKQ,UAAU,GAAG,CAAb,iBACC,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAEL,OAA3B;AAAoC,IAAA,UAAU,EAAEK,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnDN,CADF;AAwDD,CAxFD;;AA0FA,eAAeT,MAAf","sourcesContent":["import { Button, createTheme, Tab, Tabs, TextField, ThemeProvider } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\nimport SearchIcon from \"@mui/icons-material/Search\"\nimport axios from 'axios'\nimport SingleContent from '../../components/SingleContent/SingleContent'\nimport CustomPagination from '../../components/Pagination/CustomPagination'\n\nconst Search = () => {\n\n  const [type, setType] = useState(0)\n  const [page, setPage] = useState(1)\n  const [searchText, setSearchText] = useState(\"\")\n  const [content, setContent] = useState()\n  const [numOfPages, setNumOfPages] = useState()\n\n  const darkTheme = createTheme({\n    palette:{\n      mode: \"dark\",\n      primary:{\n        main: \"#fff\",\n      }\n    }\n  })\n\n  const fetchSearch = async () => {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/search/${type ? \"tv\" : \"movie\"}?api_key=${process.env.REACT_APP_API_KEY }&language=en-US&query=${searchText}&page=${page}&include_adult=false`\n    )\n    setContent(data.results)\n    setNumOfPages(data.total_pages)\n  }\n\n  useEffect(() => {\n    window.scroll(0,0)\n    fetchSearch()\n  }, [type, page])\n  \n\n\n  return (\n    <div>\n      <ThemeProvider theme={darkTheme}>\n        <div style={{display: \"flex\", margin: \"15px 0\"}}>\n          <TextField\n            style={{ flex: 1 }}\n            className=\"searchBox\"\n            label=\"Search\"\n            variant=\"filled\"\n            onChange={(e) => setSearchText(e.target.value)}\n          />\n          <Button \n            variant='contained' \n            style={{marginLeft: 10}} \n            onClick={fetchSearch}> \n            <SearchIcon/> \n          </Button>\n        </div>\n\n        <Tabs \n          value={type} \n          indicatorColor='primary' \n          textColor='primary'\n          onChange={(event, newValue) => {\n            setType(newValue)\n            setPage(1)\n          }}\n          style={{ paddingBottom: 5 }}\n          >\n          <Tab style={{ width: \"50%\" }} label=\"Search Movies\"/>\n          <Tab style={{ width: \"50%\" }} label=\"Search TV Series\"/>\n        </Tabs>\n\n      </ThemeProvider>\n        <div className='trending'>\n          { content && content.map((c) => (\n            <SingleContent \n              key={c.id} \n              id={c.id} \n              poster={c.poster_path} \n              title={c.title || c.name}\n              date={c.first_air_date || c.release_date} \n              media_type={type ? \"tv\" : \"movie\"}\n              vote_average={c.vote_average}\n              />\n          ))}\n          {fetchSearch &&\n            !content &&\n            (type ? <h2>No Series Found</h2> : <h2>No Movies Found</h2>)\n          }\n        </div>\n        {numOfPages > 1 &&(\n          <CustomPagination setPage={setPage} numOfPages={numOfPages} /> \n        )}\n    </div>\n  )\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}